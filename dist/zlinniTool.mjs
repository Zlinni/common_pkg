var v=Object.defineProperty;var g=(e,t)=>{for(var n in t)v(e,n,{get:t[n],enumerable:!0})};var w={};g(w,{awaitLoop:()=>b,convertImage:()=>L,createPromiseFn:()=>T,dataURLtoFile:()=>y,downloadFileByBlob:()=>R,ifInRange:()=>l,ifLessThanTenAddZero:()=>d,returnRangeNumber:()=>A,setCalTimer:()=>F,shuffle:()=>C,strCode:()=>k});var A=(e,t,n)=>n>t?t:n<e?e:n,l=(e,t,n)=>n>e&&n<t,d=e=>e<10?`0${e}`:e.toString(),k=(e,t=3)=>e.split("").reduce((n,r,s)=>(n+=e.charCodeAt(s)>255?t:1,n),0),F=(e,t)=>window.setInterval(()=>t(),e),y=(e,t)=>{let n=e.split(","),r=n[0].match(/:(.*?);/),s=atob(n[1]),o=s.length,i=new Uint8Array(o);for(;o--;)i[o]=s.charCodeAt(o);if(r)return new File([i],t,{type:r[1]})},L=e=>new Promise(t=>{let n=e.name.substring(0,e.name.indexOf(".")),r=new FileReader;r.readAsDataURL(e),r.onloadend=s=>{let o=new Image;o.src=s.target.result,o.onload=()=>{let i=document.createElement("canvas"),h=i.getContext("2d"),c=o.width,m=3*o.width,u=o.height>m?m:o.height;if(i.width=c,i.height=u,h){h.drawImage(o,0,0,c,u,0,0,c,u);let f=y(i.toDataURL("image/jpeg"),`${n}.jpeg`);t(f)}}}}),R=(e,t)=>{let n=window.URL.createObjectURL(e),r=document.createElement("a");r.download=t||"testFile",r.style.display="none",r.href=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)},b=async(e,t)=>{try{let n=await t(e.shift());console.log(n),n&&b(e,t)}catch(n){throw new Error(n)}},C=e=>{e=[...e];for(let t=e.length;t>0;t--){let n=Math.floor(Math.random()*t);[e[n],e[t-1]]=[e[t-1],e[n]]}return e},T=(e,t,n,r)=>new Promise((s,o)=>{e===n&&o(new Error(n)),setTimeout(()=>{s(t)},r)});var $={};g($,{chineseCurrentTime:()=>U,chineseWeek:()=>p});import a from"dayjs";var p=e=>{let t={0:"\u65E5",1:"\u4E00",2:"\u4E8C",3:"\u4E09",4:"\u56DB",5:"\u4E94",6:"\u516D"},n=a(e).day();return t[n]},U=e=>{let t=a(e).valueOf(),n=a().startOf("year").valueOf(),r=a().startOf("month").valueOf(),s=a().startOf("week").valueOf(),o=a().startOf("day").valueOf(),i=a().startOf("day").valueOf()-1e3*60*60*24,h=a(t).year(),c=d(a(t).month()+1),m=d(a(t).date()),u=d(a(t).hour()),f=d(a(t).minute()),O=p(e);return t<n?`${h}-${c}-${m}`:l(n,r,t)?`${c}-${m}`:l(r,s,t)?`${c}-${m}`:l(s,i,t)?`\u5468${O}-${u}:${f}`:l(i,o,t)?`\u6628\u5929-${u}:${f}`:t>o?`${u}:${f}`:"\u65F6\u95F4\u9519\u8BEF"};export{w as common,$ as time};
